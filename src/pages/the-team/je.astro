---
import Layout from '@layouts/Layout.astro';
import { SITE } from '../../lib/site';

const name = 'Joe Espinoza';
const role = 'Project Manager';
const bio = '24/7 emergency roof, siding & damage repair serving Lexington and Central Kentucky.';
const photo = '/assets/je.roofing expert.png';
// Swap: Joe's page downloads Odvin's vCard to match physical QR code misprint
const vcfFile = '/vcards/oc.vcf';

const title = `${name} | The Team | ${SITE.name}`;
const description = `Meet ${name}, ${role}. ${bio}`;
---

<Layout title={title} description={description} canonical={`${SITE.url}/the-team/je`}>
  <section class="mx-auto max-w-3xl px-4 py-12">
    <!-- Back Link -->
    <a href="/the-team" class="inline-flex items-center gap-2 text-global-blue font-semibold hover:opacity-80">
      ← Back to Team
    </a>

    <!-- Profile Card -->
    <div class="mt-8 rounded-2xl border border-slate-200 bg-white p-8">
      <!-- Profile Image -->
      <div class="mb-6">
        <img 
          src={photo} 
          alt={name}
          class="w-full max-w-sm mx-auto rounded-lg object-cover"
          loading="eager"
          width="500"
          height="500"
        />
      </div>

      <!-- Name & Role -->
      <h1 class="text-3xl font-black text-global-blue">{name}</h1>
      <p class="mt-2 text-lg font-semibold text-slate-600">{role}</p>

      <!-- Bio -->
      <p class="mt-4 text-base text-slate-700 leading-relaxed">
        {bio}
      </p>

      <!-- CTAs -->
      <div class="mt-8 flex flex-col gap-3 sm:flex-row">
        <a 
          href={vcfFile}
          download
          class="inline-flex items-center justify-center rounded-lg bg-global-blue px-6 py-3 text-sm font-semibold text-white hover:opacity-90 transition"
        >
          Download Contact Card (VCF)
        </a>
        <a 
          href="/request-inspection"
          class="inline-flex items-center justify-center rounded-lg border-2 border-global-blue px-6 py-3 text-sm font-semibold text-global-blue hover:bg-blue-50 transition"
        >
          Request Inspection
        </a>
      </div>

      <!-- iOS Fallback Note -->
      <p class="mt-4 text-xs text-slate-500 text-center">
        On iPhone: if it opens instead of downloading, tap Share → Add to Contacts.
      </p>
    </div>
  </section>
</Layout>
